<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>JavaScript | 前端成长之路</title><meta name="description" content="构建知识体系，并分类整理对应的技术实现。">
    <link rel="modulepreload" href="/assets/app.5176ced8.js"><link rel="modulepreload" href="/assets/index.html.69bc265a.js"><link rel="modulepreload" href="/assets/index.html.b503462a.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.e8e8fc80.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="https://vuejs.org/images/logo.png" alt="前端成长之路"><span class="site-name can-hide">前端成长之路</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/summary.md" class="" aria-label="summary"><!--[--><!--]--> summary <!--[--><!--]--></a></div><div class="navbar-item"><a aria-current="page" href="/javascript/" class="router-link-active router-link-exact-active router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/summary.md" class="" aria-label="summary"><!--[--><!--]--> summary <!--[--><!--]--></a></div><div class="navbar-item"><a aria-current="page" href="/javascript/" class="router-link-active router-link-exact-active router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">JavaScript <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/#基本概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本概念"><!--[--><!--]--> 基本概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#引用类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="引用类型"><!--[--><!--]--> 引用类型 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/#object" class="router-link-active router-link-exact-active sidebar-item" aria-label="Object"><!--[--><!--]--> Object <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#array" class="router-link-active router-link-exact-active sidebar-item" aria-label="Array"><!--[--><!--]--> Array <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#date" class="router-link-active router-link-exact-active sidebar-item" aria-label="Date"><!--[--><!--]--> Date <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#regexp" class="router-link-active router-link-exact-active sidebar-item" aria-label="RegExp"><!--[--><!--]--> RegExp <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#function" class="router-link-active router-link-exact-active sidebar-item" aria-label="Function"><!--[--><!--]--> Function <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#基本包装类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本包装类型"><!--[--><!--]--> 基本包装类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#global-对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="Global 对象"><!--[--><!--]--> Global 对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#math-对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="Math 对象"><!--[--><!--]--> Math 对象 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javascript/#面向对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="面向对象"><!--[--><!--]--> 面向对象 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/#理解对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="理解对象"><!--[--><!--]--> 理解对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#创建对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建对象"><!--[--><!--]--> 创建对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#继承" class="router-link-active router-link-exact-active sidebar-item" aria-label="继承"><!--[--><!--]--> 继承 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javascript/#函数表达式" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数表达式"><!--[--><!--]--> 函数表达式 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/#递归" class="router-link-active router-link-exact-active sidebar-item" aria-label="递归"><!--[--><!--]--> 递归 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#闭包" class="router-link-active router-link-exact-active sidebar-item" aria-label="闭包"><!--[--><!--]--> 闭包 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#模仿块级作用域" class="router-link-active router-link-exact-active sidebar-item" aria-label="模仿块级作用域"><!--[--><!--]--> 模仿块级作用域 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#私有变量" class="router-link-active router-link-exact-active sidebar-item" aria-label="私有变量"><!--[--><!--]--> 私有变量 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javascript/#window-对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="window 对象"><!--[--><!--]--> window 对象 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/#全局作用域" class="router-link-active router-link-exact-active sidebar-item" aria-label="全局作用域"><!--[--><!--]--> 全局作用域 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#定时器-间歇调用和超时调用" class="router-link-active router-link-exact-active sidebar-item" aria-label="定时器(间歇调用和超时调用)"><!--[--><!--]--> 定时器(间歇调用和超时调用) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#系统对话框" class="router-link-active router-link-exact-active sidebar-item" aria-label="系统对话框"><!--[--><!--]--> 系统对话框 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#location对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="location对象"><!--[--><!--]--> location对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#navigator对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="navigator对象"><!--[--><!--]--> navigator对象 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javascript/#dom" class="router-link-active router-link-exact-active sidebar-item" aria-label="DOM"><!--[--><!--]--> DOM <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#客户端存储" class="router-link-active router-link-exact-active sidebar-item" aria-label="客户端存储"><!--[--><!--]--> 客户端存储 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#最佳实践" class="router-link-active router-link-exact-active sidebar-item" aria-label="最佳实践"><!--[--><!--]--> 最佳实践 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/#dom操作优化" class="router-link-active router-link-exact-active sidebar-item" aria-label="DOM操作优化"><!--[--><!--]--> DOM操作优化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#部署" class="router-link-active router-link-exact-active sidebar-item" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javascript/#原型链" class="router-link-active router-link-exact-active sidebar-item" aria-label="原型链"><!--[--><!--]--> 原型链 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/#错误监控" class="router-link-active router-link-exact-active sidebar-item" aria-label="错误监控"><!--[--><!--]--> 错误监控 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="javascript" tabindex="-1"><a class="header-anchor" href="#javascript" aria-hidden="true">#</a> JavaScript</h1><blockquote><p>参考资料：</p><p>红宝书</p><p>深入理解 ES6</p></blockquote><h2 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念" aria-hidden="true">#</a> 基本概念</h2><ul><li>数据类型 <ul><li>基本数据类型: undefined null number string boolean</li><li>复杂数据类型: object</li></ul></li><li>操作符: 类型转换的基本顺序：number string boolean object.valueOf() object.toString() <ul><li>一元操作符: a++ a-- ++a --a +a(相当于用 Number 进行类型转换) -a</li><li>位操作符: ~a(求反码，等于-a-1), a &amp; b, a | b, a ^ b, &lt;&lt; a, &gt;&gt;a, &gt;&gt;&gt;a</li><li>乘性操作符: *, /, %</li><li>加性操作符: +, -</li><li>关系操作符: &gt;, &gt;=, &lt;, &lt;=</li><li>相等操作符: ==, != (先进行类型转换再比较), ===, !== (直接比较)</li><li>条件操作符：a ? b : c</li><li>赋值操作符：= += *= ...</li><li>逗号操作符：,</li><li>instanceof: 只要是原型链中出现过的构造函数, 就会返回 true</li></ul></li><li>流控制语句 <ul><li>if else</li><li>switch</li><li>while</li><li>do while</li><li>for</li><li>for in</li><li>label break continue</li><li>with: 改变作用域至一个特定的对象中</li></ul></li><li>函数 <ul><li>arguments</li><li>不能重载，因为没有函数签名，但 TypeScript 中实现了！</li></ul></li><li>执行环境和作用域链 <ul><li>每个函数都有自己的执行环境，每个执行环境都有一个对应的变量对象，当一个函数执行时，该函数的执行环境会被推入一个环境栈中，某个变量需要使用时，会从栈顶的变量对象开始搜索，找不到就继续往下找，直到全局环境，这条搜索的路径就被称为作用域链。</li><li>catch 和 with 可以延长作用域链，但注意，它们只是创建一个新的变量对象（使用一个给定的对象）用于搜索。</li><li>垃圾回收：有两种算法，分别为标记清除和引用计数，标记清除就是在变量脱离作用域后被标记，然后等待回收，引用计数就是被赋值的时候引用加一，假如为零，就会被清除。后者已经基本不被使用，IE9 仍然会存在循环引用的问题。</li></ul></li></ul><h2 id="引用类型" tabindex="-1"><a class="header-anchor" href="#引用类型" aria-hidden="true">#</a> 引用类型</h2><h3 id="object" tabindex="-1"><a class="header-anchor" href="#object" aria-hidden="true">#</a> Object</h3><h3 id="array" tabindex="-1"><a class="header-anchor" href="#array" aria-hidden="true">#</a> Array</h3><h4 id="方法" tabindex="-1"><a class="header-anchor" href="#方法" aria-hidden="true">#</a> 方法</h4><ol><li>检测类型：instanceof 假如有多个全局环境就无法准确判断，Array.isArray() 好用</li><li>转换方法：valueOf, toString, toLocaleString</li><li>栈和队列：push, pop, unshift, shift</li><li>重排序：reverse, sort 不给比较函数会将比较的值转换成 string 再比较</li><li>操作：concat, slice, splice</li><li>位置：indexOf, lastIndexOf</li><li>迭代：forEach, map, filter, every, some</li><li>归并：reduce, reduceRight</li></ol><h3 id="date" tabindex="-1"><a class="header-anchor" href="#date" aria-hidden="true">#</a> Date</h3><h4 id="方法-1" tabindex="-1"><a class="header-anchor" href="#方法-1" aria-hidden="true">#</a> 方法</h4><ol><li>new Date() 内部会根据参数的不同，调用 Date.parse 和 Date.UTC 将参数转换为毫秒数，不传参数的话就像调用了 Date.now</li><li>转换：toDateString ...</li><li>操作：getTime, setTime ...</li></ol><h3 id="regexp" tabindex="-1"><a class="header-anchor" href="#regexp" aria-hidden="true">#</a> RegExp</h3><h4 id="方法-2" tabindex="-1"><a class="header-anchor" href="#方法-2" aria-hidden="true">#</a> 方法</h4><ol><li>实例方法：exec 和 test，其中 exec 在全局模式下每执行一次，就会匹配一次，直到字符串末尾</li><li>静态方法：input, leftContext, rightContext, lastMatch, lastParen, multiline, 以及用于存储捕获的$1 - $9</li></ol><h3 id="function" tabindex="-1"><a class="header-anchor" href="#function" aria-hidden="true">#</a> Function</h3><h4 id="方法-3" tabindex="-1"><a class="header-anchor" href="#方法-3" aria-hidden="true">#</a> 方法</h4><ol><li>call，apply，bind: 扩充作用域</li><li>caller: 调用该函数的外部函数，假如是在全局作用域中调用，则为 null</li><li>toString, toLocaleString, valueOf: 字符串形式返回函数的定义</li></ol><h4 id="内部变量" tabindex="-1"><a class="header-anchor" href="#内部变量" aria-hidden="true">#</a> 内部变量</h4><ol><li>arguments：callee 该函数引用的指针，可以用来与函数名解耦</li><li>this：可由 call,apply,bind 指定</li></ol><h3 id="基本包装类型" tabindex="-1"><a class="header-anchor" href="#基本包装类型" aria-hidden="true">#</a> 基本包装类型</h3><ul><li>new Object()会根据传入参数的类型调用不同的包装类型</li><li>访问基本类型值的时候，会调用包装函数生成一个对象，操作完成后该对象会被立即销毁。</li></ul><ol><li>Boolean</li><li>Number</li><li>String: 用于转换的方法非常多，令人发指！</li></ol><h3 id="global-对象" tabindex="-1"><a class="header-anchor" href="#global-对象" aria-hidden="true">#</a> Global 对象</h3><ul><li>内置的顶级对象，浏览器通过 window 对象放置所有的 global 对象属性和方法，包括一些特殊值如 undefined,null,NaN,Infinity,以及很多构造函数</li></ul><h3 id="math-对象" tabindex="-1"><a class="header-anchor" href="#math-对象" aria-hidden="true">#</a> Math 对象</h3><h2 id="面向对象" tabindex="-1"><a class="header-anchor" href="#面向对象" aria-hidden="true">#</a> 面向对象</h2><h3 id="理解对象" tabindex="-1"><a class="header-anchor" href="#理解对象" aria-hidden="true">#</a> 理解对象</h3><ol><li>属性类型。分为数据属性和访问器属性，数据属性的特性为 configurable，enumerable，writable，value，访问器属性的特性为 configurable，enumerable，get，set。</li><li>定义属性。可以使用字面量定义数据属性（访问器属性不行），那么特性的值都为 true；可以用 Object.defineProperty 和 Object.defineProperties 定义，没有明确写的属性特性都为 false 或者 undefined。</li><li>读取属性。使用 Object.getOwnPropertyDescriptor 获取属性的特性。</li></ol><h3 id="创建对象" tabindex="-1"><a class="header-anchor" href="#创建对象" aria-hidden="true">#</a> 创建对象</h3><ol><li>工厂模式</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="2"><li>构造函数模式</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="3"><li>原型模式</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;bao&#39;</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>一个函数被创建后,会自动添加上 prototype 属性,指向一个原型对象,而 prototype 也默认拥有一个 constructor 属性,指向这个函数.</li><li>判断原型的方法: Object.prototype.isPrototypeOf, Object.getPrototypeOf</li><li>实例属性和原型属性: in 可以判断两种属性, for in 可以枚举可枚举的两种属性, Object.keys()获取可枚举的实例属性, Object.getOwnPropertyNames()获取所有实例属性</li><li>缺点: 假如某个属性是引用类型, 那么一旦被修改会影响所有实例对象</li></ul><ol start="4"><li>组合构造函数模式和原型模式</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>最常用的模式</li></ul><ol start="5"><li>动态原型模式</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>say <span class="token operator">==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>上一种模式的改进, 可能是为了看起来更聚合一点</li></ul><ol start="6"><li>寄生构造函数模式</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">return</span> o<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>看起来像构造函数模式, 好处是可以实现一些继承的功能</li><li>缺点是无法使用 instanceof 判断对象类型</li></ul><ol start="7"><li>稳妥构造函数模式</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> _name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">const</span> _age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> o<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>好处是外界无法访问私有变量, 很安全</li></ul><h3 id="继承" tabindex="-1"><a class="header-anchor" href="#继承" aria-hidden="true">#</a> 继承</h3><p>一般 OO 语言都会支持两种继承, 分别是接口继承和实现继承, 接口继承继承方法签名, 类似于 TS 中继承一个抽象类, 实现继承继承实际的方法, 就是普通的继承.</p><ol><li>原型链</li></ol><ul><li>定义: 原型链就是原型和实例的链条, 子类型实例指向的原型, 同时又是父类型的一个实例, 然后层层递进, 直到 Object 的原型对象</li><li>缺点: 原型包含引用类型值的时候, 会造成污染; 无法传递参数</li></ul><ol start="2"><li>借用构造函数(经典继承)</li></ol><ul><li>优点: 可以传递参数</li><li>缺点: 函数不能复用</li></ul><ol start="3"><li>组合继承</li></ol><ul><li>定义: 使用构造函数继承属性, 使用原型链继承方法, 最常用</li><li>优点: 函数可以复用</li><li>缺点: 两次调用父类型构造函数</li></ul><ol start="4"><li>原型式继承</li></ol><ul><li>ES5 后可以使用 Object.create()来实现</li></ul><ol start="5"><li>寄生式继承</li></ol><ul><li>采用工厂模式, 在原型式继承的基础上增加一些方法的定义</li></ul><ol start="6"><li>寄生组合式继承</li></ol><ul><li>将组合继承中方法的继承, 由原型链继承换成寄生式继承, 是最理想的继承方式</li><li>优点: 拜托了组合继承调用两次父类型构造函数的缺点</li></ul><h2 id="函数表达式" tabindex="-1"><a class="header-anchor" href="#函数表达式" aria-hidden="true">#</a> 函数表达式</h2><ul><li>定义函数的两种方式: 函数声明, 函数表达式. 函数声明存在函数声明提升的特征.</li></ul><h3 id="递归" tabindex="-1"><a class="header-anchor" href="#递归" aria-hidden="true">#</a> 递归</h3><h3 id="闭包" tabindex="-1"><a class="header-anchor" href="#闭包" aria-hidden="true">#</a> 闭包</h3><ul><li>定义: 闭包是指有权访问另一个函数作用域中变量的函数. 常用的创建方法是在一个函数内部创建另一个函数.</li></ul><h3 id="模仿块级作用域" tabindex="-1"><a class="header-anchor" href="#模仿块级作用域" aria-hidden="true">#</a> 模仿块级作用域</h3><h3 id="私有变量" tabindex="-1"><a class="header-anchor" href="#私有变量" aria-hidden="true">#</a> 私有变量</h3><ol><li><p>静态私有变量</p></li><li><p>模块模式</p></li><li><p>增强的模块模式</p></li></ol><h2 id="window-对象" tabindex="-1"><a class="header-anchor" href="#window-对象" aria-hidden="true">#</a> window 对象</h2><ul><li>window 是浏览器的一个实例对象, 并且具有双重角色, 它既是通过 js 访问浏览器的接口, 也是 ECMAScript 规范中 Global 全局对象的实现</li></ul><h3 id="全局作用域" tabindex="-1"><a class="header-anchor" href="#全局作用域" aria-hidden="true">#</a> 全局作用域</h3><ul><li>在全局作用域中定义的变量虽然可以通过 window.xxx 来访问, 但无法被 delete 操作符删除, 因为这个变量作为 window 的属性, 其内部属性 configurable 为 false</li></ul><h3 id="定时器-间歇调用和超时调用" tabindex="-1"><a class="header-anchor" href="#定时器-间歇调用和超时调用" aria-hidden="true">#</a> 定时器(间歇调用和超时调用)</h3><ul><li><p>setInterval 和 setTimeout</p></li><li><p>推荐使用 setTimeout 来模拟 setInterval</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mySetInterval</span><span class="token punctuation">(</span><span class="token parameter">handler<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> _state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">timer</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">_handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _state<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>_handler<span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  _state<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>_handler<span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> _state<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> interval <span class="token operator">=</span> <span class="token function">mySetInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 用于清除定时器</span>
interval<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="系统对话框" tabindex="-1"><a class="header-anchor" href="#系统对话框" aria-hidden="true">#</a> 系统对话框</h3><ul><li>alert, confirm, prompt</li></ul><h3 id="location对象" tabindex="-1"><a class="header-anchor" href="#location对象" aria-hidden="true">#</a> location对象</h3><h3 id="navigator对象" tabindex="-1"><a class="header-anchor" href="#navigator对象" aria-hidden="true">#</a> navigator对象</h3><h2 id="dom" tabindex="-1"><a class="header-anchor" href="#dom" aria-hidden="true">#</a> DOM</h2><p>总体的继承关系是Node -&gt; HTMLElement -&gt; HTMLInputElement, Node -&gt; Document -&gt; HTMLDocument</p><h2 id="客户端存储" tabindex="-1"><a class="header-anchor" href="#客户端存储" aria-hidden="true">#</a> 客户端存储</h2><p>cookie和域名是绑定的(子域名有效), 不同浏览器下单个域名的最大cookie个数不同, 每个来源的cookie长度限制为4KB(应该是包含所有属性的)</p><p>localstorage和域名, 协议, 端口绑定(子域名无效), 每个来源的大小限制为5MB(其实各个浏览器都不同)</p><p>indexedDB只能由同源页面操作(相同协议, 域名, 端口), 大小限制不定</p><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践" aria-hidden="true">#</a> 最佳实践</h2><p>变量初始化为一个特定的数据类型</p><p>变量命名为名词, 函数以动词开头, 返回布尔值的函数以is开头</p><p>判断数据类型, 基本数据类型用typeof, 复杂数据类型用instanceof, 不要直接比较</p><p>多使用原生方法, switch, 位运算, 速度比较快</p><h3 id="dom操作优化" tabindex="-1"><a class="header-anchor" href="#dom操作优化" aria-hidden="true">#</a> DOM操作优化</h3><p>最小化现场更新, 使用document.createDocumentFragment()创建文档片段, 或者使用innerHTML来更新DOM</p><p>使用事件代理</p><p>减少对文档的查询, 尤其是对HTMLCollection的访问</p><h3 id="部署" tabindex="-1"><a class="header-anchor" href="#部署" aria-hidden="true">#</a> 部署</h3><p>webpack</p><h2 id="原型链" tabindex="-1"><a class="header-anchor" href="#原型链" aria-hidden="true">#</a> 原型链</h2><ol><li>https://juejin.cn/post/6901494216074100750</li></ol><h2 id="错误监控" tabindex="-1"><a class="header-anchor" href="#错误监控" aria-hidden="true">#</a> 错误监控</h2><ol><li>全局错误监控</li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: baojiedashuaibi@gmail.com">jerry23</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: baojiedashuaibi@gmail.com">Jerry Bao</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: baojie223@qq.com">baojie</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: baojiedashuaibi@gmail.com">baojie223</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.5176ced8.js" defer></script>
  </body>
</html>
